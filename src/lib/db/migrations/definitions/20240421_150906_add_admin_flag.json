{"schemas":"--- original\n+++ modified\n@@ -1,7 +1,4 @@\n-DEFINE TABLE meta SCHEMALESS\n-    PERMISSIONS\n-        FOR create, select FULL\n-        FOR update, delete WHERE id = $auth.id;\n+DEFINE TABLE meta SCHEMALESS;\n\n DEFINE FIELD created_by ON meta TYPE record<person>;\n DEFINE FIELD created_on ON meta TYPE datetime DEFAULT time::now();\n@@ -11,12 +8,7 @@\n DEFINE FIELD deleted_on ON meta TYPE option<datetime> DEFAULT NONE;\n DEFINE FIELD data ON meta TYPE option<object> DEFAULT NONE;\n\n-DEFINE TABLE person SCHEMALESS\n-    PERMISSIONS\n-        FOR select FULL\n-        FOR update WHERE id = $auth.id\n-        FOR delete WHERE id = $auth.id\n-        FOR create FULL;\n+DEFINE TABLE person SCHEMALESS;\n\n DEFINE FIELD username ON person TYPE string;\n DEFINE FIELD email ON person TYPE string ASSERT string::is::email($value);\n@@ -24,18 +16,11 @@\n DEFINE FIELD is_admin ON person TYPE bool DEFAULT false;\n DEFINE FIELD meta ON person TYPE record<meta>;\n\n-DEFINE TABLE post SCHEMALESS\n-    PERMISSIONS\n-        FOR select FULL\n-        FOR create WHERE permission:create_post IN $auth.permissions\n-        FOR update, delete WHERE author = $auth.id;\n+DEFINE TABLE post SCHEMALESS;\n\n-DEFINE FIELD title ON post TYPE string;\n-DEFINE FIELD markdown ON post TYPE string;\n-DEFINE FIELD author ON post TYPE record<person>;\n DEFINE FIELD meta ON post TYPE record<meta>;\n\n-DEFINE TABLE script_migration SCHEMALESS\n+DEFINE TABLE script_migration SCHEMAFULL\n     PERMISSIONS\n         FOR select FULL\n         FOR create, update, delete NONE;\n@@ -43,9 +28,7 @@\n DEFINE FIELD script_name ON script_migration TYPE string;\n DEFINE FIELD executed_at ON script_migration TYPE datetime DEFAULT time::now();\n\n-DEFINE TABLE nb_token SCHEMALESS\n-    PERMISSIONS\n-        FOR select, update, delete, create FULL;\n+DEFINE TABLE nb_token SCHEMALESS;\n\n DEFINE FIELD person ON nb_token TYPE record<person>;\n DEFINE FIELD meta ON nb_token TYPE record<meta>;\n","events":null}