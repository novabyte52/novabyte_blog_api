{"schemas":"DEFINE FUNCTION IF NOT EXISTS fn::string_id($record_id: record) {\n    string::concat(meta::tb($record_id) + ':', meta::id($record_id))\n};\n\nDEFINE TABLE IF NOT EXISTS meta SCHEMALESS;\n\nDEFINE FIELD IF NOT EXISTS created_by ON meta TYPE record<person>;\nDEFINE FIELD IF NOT EXISTS created_on ON meta TYPE datetime DEFAULT time::now();\nDEFINE FIELD IF NOT EXISTS modified_by ON meta TYPE option<record<person>> DEFAULT NONE;\nDEFINE FIELD IF NOT EXISTS modified_on ON meta TYPE option<datetime> DEFAULT NONE;\nDEFINE FIELD IF NOT EXISTS deleted_by ON meta TYPE option<record<person>> DEFAULT NONE;\nDEFINE FIELD IF NOT EXISTS deleted_on ON meta TYPE option<datetime> DEFAULT NONE;\nDEFINE FIELD IF NOT EXISTS data ON meta TYPE option<object> DEFAULT NONE;\n\nDEFINE TABLE IF NOT EXISTS person SCHEMALESS;\n\nDEFINE FIELD IF NOT EXISTS username ON person TYPE string;\nDEFINE FIELD IF NOT EXISTS email ON person TYPE string ASSERT string::is::email($value);\nDEFINE FIELD IF NOT EXISTS pass_hash ON person TYPE string;\nDEFINE FIELD IF NOT EXISTS is_admin ON person TYPE bool DEFAULT false;\nDEFINE FIELD IF NOT EXISTS meta ON person TYPE record<meta>;\n\nDEFINE TABLE IF NOT EXISTS post SCHEMALESS;\n\nDEFINE FIELD IF NOT EXISTS meta ON post TYPE record<meta>;\n\nDEFINE TABLE IF NOT EXISTS script_migration SCHEMAFULL\n    PERMISSIONS\n        FOR select FULL\n        FOR create, update, delete NONE;\n\nDEFINE FIELD IF NOT EXISTS script_name ON script_migration TYPE string;\nDEFINE FIELD IF NOT EXISTS executed_at ON script_migration TYPE datetime DEFAULT time::now();\n\nDEFINE TABLE IF NOT EXISTS nb_token SCHEMALESS;\n\nDEFINE FIELD IF NOT EXISTS person ON nb_token TYPE record<person>;\nDEFINE FIELD IF NOT EXISTS meta ON nb_token TYPE record<meta>;\n","events":""}