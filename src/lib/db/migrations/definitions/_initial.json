{"schemas":"DEFINE FUNCTION fn::string_id($record_id: record) {\n    string::concat(meta::tb($record_id) + ':', meta::id($record_id))\n};\n\nDEFINE TABLE meta SCHEMALESS;\n\nDEFINE FIELD created_by ON meta TYPE record<person>;\nDEFINE FIELD created_on ON meta TYPE datetime DEFAULT time::now();\nDEFINE FIELD modified_by ON meta TYPE option<record<person>> DEFAULT NONE;\nDEFINE FIELD modified_on ON meta TYPE option<datetime> DEFAULT NONE;\nDEFINE FIELD deleted_by ON meta TYPE option<record<person>> DEFAULT NONE;\nDEFINE FIELD deleted_on ON meta TYPE option<datetime> DEFAULT NONE;\nDEFINE FIELD data ON meta TYPE option<object> DEFAULT NONE;\n\nDEFINE TABLE person SCHEMALESS;\n\nDEFINE FIELD username ON person TYPE string;\nDEFINE FIELD email ON person TYPE string ASSERT string::is::email($value);\nDEFINE FIELD pass_hash ON person TYPE string;\nDEFINE FIELD is_admin ON person TYPE bool DEFAULT false;\nDEFINE FIELD meta ON person TYPE record<meta>;\n\nDEFINE TABLE post SCHEMALESS;\n\nDEFINE FIELD meta ON post TYPE record<meta>;\n\nDEFINE TABLE script_migration SCHEMAFULL\n    PERMISSIONS\n        FOR select FULL\n        FOR create, update, delete NONE;\n\nDEFINE FIELD script_name ON script_migration TYPE string;\nDEFINE FIELD executed_at ON script_migration TYPE datetime DEFAULT time::now();\n\nDEFINE TABLE nb_token SCHEMALESS;\n\nDEFINE FIELD person ON nb_token TYPE record<person>;\nDEFINE FIELD meta ON nb_token TYPE record<meta>;\n","events":""}